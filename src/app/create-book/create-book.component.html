<div class="panel">
    <div class="panel panel-header">
        New book
    </div>
    <div class="panel panel-body">
        <form
            [formGroup]="form"
            (ngSubmit)="onSubmit(form.value)"
            *ngIf="form"
        >
            <div *ngFor="let el of elements.required">
                <div class="row">
                    <div class="col-3">
                        <label for="{{ el }}" class="label">{{ el }}</label>
                    </div>
                    <div class="col-9">
                        <input type="text" formControlName="{{ el }}" name="{{ el }}" id="{{ el }}" placeholder="{{ el }}" class="form-control" required/>
                    </div>
                </div>
                <div class="row alert alert-danger" *ngIf="submitted && f[el].errors">
                    <ul>
                        <li *ngIf="f[el].errors?.['required']">The <b>{{ el }}</b> property is required.</li>
                    </ul>
                </div>
            </div>
            <div *ngFor="let el of elements.optional">
                <div class="row">
                    <div class="col-3">
                        <label for="{{ el }}" class="label">{{ el }}</label>
                    </div>
                    <div class="col-9">
                        <input type="text" formControlName="{{ el }}" name="{{ el }}" id="{{ el }}" placeholder="{{ el }}" class="form-control" optional/>
                    </div>
                </div>
                <div class="row alert alert-danger" *ngIf="submitted && f[el].errors">
                    <ul>
                    </ul>
                </div>
            </div>
            <div class="row">
                <button type="submit" class="btn btn-primary">Create</button>
            </div>
        </form>
    </div>
</div>
